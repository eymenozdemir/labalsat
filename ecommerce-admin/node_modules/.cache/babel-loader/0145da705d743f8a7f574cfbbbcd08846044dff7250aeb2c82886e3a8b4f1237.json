{"ast":null,"code":"import React,{useEffect}from\"react\";import CustomInput from\"../components/CustomInput\";import{Link,useNavigate}from\"react-router-dom\";import*as yup from\"yup\";import{useFormik}from\"formik\";import{useDispatch,useSelector}from\"react-redux\";import{login}from\"../features/auth/authSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var schema=yup.object().shape({email:yup.string().email(\"Email should be valid\").required(\"Email is Required\"),password:yup.string().required(\"Password is Required\")});var Login=function Login(){var dispatch=useDispatch();var navigate=useNavigate();var formik=useFormik({initialValues:{email:\"\",password:\"\"},validationSchema:schema,onSubmit:function onSubmit(values){localStorage.setItem(\"fromLogin\",true);dispatch(login(values));}});var authState=useSelector(function(state){return state;});var _authState$auth=authState.auth,user=_authState$auth.user,isError=_authState$auth.isError,isSuccess=_authState$auth.isSuccess,isLoading=_authState$auth.isLoading,message=_authState$auth.message;useEffect(function(){if(isSuccess){navigate(\"admin\");}else{navigate(\"\");}},[user,isError,isSuccess,isLoading]);return/*#__PURE__*/_jsxs(\"div\",{className:\"py-5\",style:{background:\"#ffd333\",minHeight:\"100vh\"},children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-5 w-25 bg-white rounded-3 mx-auto p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center title\",children:\"Login\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"Login to your account to continue.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"error text-center\",children:message.message===\"Rejected\"?\"You are not an Admin\":\"\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(CustomInput,{type:\"text\",label:\"Email Address\",id:\"email\",name:\"email\",onChng:formik.handleChange(\"email\"),onBlr:formik.handleBlur(\"email\"),val:formik.values.email}),/*#__PURE__*/_jsx(\"div\",{className:\"error mt-2\",children:formik.touched.email&&formik.errors.email}),/*#__PURE__*/_jsx(CustomInput,{type:\"password\",label:\"Password\",id:\"pass\",name:\"password\",onChng:formik.handleChange(\"password\"),onBlr:formik.handleBlur(\"password\"),val:formik.values.password}),/*#__PURE__*/_jsx(\"div\",{className:\"error mt-2\",children:formik.touched.password&&formik.errors.password}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\"}),/*#__PURE__*/_jsx(\"button\",{className:\"border-0 px-3 py-2 text-white fw-bold w-100 text-center text-decoration-none fs-5\",style:{background:\"#ffd333\"},type:\"submit\",children:\"Login\"})]})]})]});};export default Login;","map":{"version":3,"names":["React","useEffect","CustomInput","Link","useNavigate","yup","useFormik","useDispatch","useSelector","login","jsx","_jsx","jsxs","_jsxs","schema","object","shape","email","string","required","password","Login","dispatch","navigate","formik","initialValues","validationSchema","onSubmit","values","localStorage","setItem","authState","state","_authState$auth","auth","user","isError","isSuccess","isLoading","message","className","style","background","minHeight","children","action","handleSubmit","type","label","id","name","onChng","handleChange","onBlr","handleBlur","val","touched","errors"],"sources":["/Users/eymenozdemir/Desktop/HARMONI/labalsat/ecommerce-admin/src/pages/Login.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport CustomInput from \"../components/CustomInput\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport * as yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { login } from \"../features/auth/authSlice\";\n\nlet schema = yup.object().shape({\n  email: yup\n    .string()\n    .email(\"Email should be valid\")\n    .required(\"Email is Required\"),\n  password: yup.string().required(\"Password is Required\"),\n});\nconst Login = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const formik = useFormik({\n    initialValues: {\n      email: \"\",\n      password: \"\",\n    },\n    validationSchema: schema,\n    onSubmit: (values) => {\n      localStorage.setItem(\"fromLogin\", true);\n      dispatch(login(values));\n    },\n  });\n  const authState = useSelector((state) => state);\n\n  const { user, isError, isSuccess, isLoading, message } = authState.auth;\n\n  useEffect(() => {\n    if (isSuccess) {\n      navigate(\"admin\");\n    } else {\n      navigate(\"\");\n    }\n  }, [user, isError, isSuccess, isLoading]);\n  return (\n    <div className=\"py-5\" style={{ background: \"#ffd333\", minHeight: \"100vh\" }}>\n      <br />\n      <br />\n      <br />\n      <br />\n      <br />\n      <div className=\"my-5 w-25 bg-white rounded-3 mx-auto p-4\">\n        <h3 className=\"text-center title\">Login</h3>\n        <p className=\"text-center\">Login to your account to continue.</p>\n        <div className=\"error text-center\">\n          {message.message === \"Rejected\" ? \"You are not an Admin\" : \"\"}\n        </div>\n        <form action=\"\" onSubmit={formik.handleSubmit}>\n          <CustomInput\n            type=\"text\"\n            label=\"Email Address\"\n            id=\"email\"\n            name=\"email\"\n            onChng={formik.handleChange(\"email\")}\n            onBlr={formik.handleBlur(\"email\")}\n            val={formik.values.email}\n          />\n          <div className=\"error mt-2\">\n            {formik.touched.email && formik.errors.email}\n          </div>\n          <CustomInput\n            type=\"password\"\n            label=\"Password\"\n            id=\"pass\"\n            name=\"password\"\n            onChng={formik.handleChange(\"password\")}\n            onBlr={formik.handleBlur(\"password\")}\n            val={formik.values.password}\n          />\n          <div className=\"error mt-2\">\n            {formik.touched.password && formik.errors.password}\n          </div>\n          <div className=\"mb-3\">\n          </div>\n          <button\n            className=\"border-0 px-3 py-2 text-white fw-bold w-100 text-center text-decoration-none fs-5\"\n            style={{ background: \"#ffd333\" }}\n            type=\"submit\"\n          >\n            Login\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}