{"ast":null,"code":"import _regeneratorRuntime from\"/Users/eymenozdemir/Desktop/HARMONI/labalsat/ecommerce-admin/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/eymenozdemir/Desktop/HARMONI/labalsat/ecommerce-admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createSlice,createAsyncThunk,createAction}from\"@reduxjs/toolkit\";import uploadService from\"./uploadService\";export var uploadImg=createAsyncThunk(\"upload/images\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data,thunkAPI){var formData,i;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;formData=new FormData();for(i=0;i<data.length;i++){formData.append(\"images\",data[i]);}_context.next=5;return uploadService.uploadImg(formData);case 5:return _context.abrupt(\"return\",_context.sent);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",thunkAPI.rejectWithValue(_context.t0));case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());export var delImg=createAsyncThunk(\"delete/images\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id,thunkAPI){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return uploadService.deleteImg(id.id);case 3:return _context2.abrupt(\"return\",id.images.filter(function(i){return i.public_id!==id.id;}));case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);return _context2.abrupt(\"return\",thunkAPI.rejectWithValue(_context2.t0));case 9:case\"end\":return _context2.stop();}},_callee2,null,[[0,6]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}());export var loadImg=createAsyncThunk(\"load/images\",/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(data,thunkAPI){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt(\"return\");case 1:case\"end\":return _context3.stop();}},_callee3);}))();case 3:return _context4.abrupt(\"return\",data!==undefined?data:[]);case 6:_context4.prev=6;_context4.t0=_context4[\"catch\"](0);return _context4.abrupt(\"return\",thunkAPI.rejectWithValue(_context4.t0));case 9:case\"end\":return _context4.stop();}},_callee4,null,[[0,6]]);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}());export var resetImg=createAction(\"Reset_all\");var initialState={images:[],isError:false,isLoading:false,isSuccess:false,message:\"\"};export var uploadSlice=createSlice({name:\"images\",initialState:initialState,reducers:{},extraReducers:function extraReducers(builder){builder.addCase(uploadImg.pending,function(state){state.isLoading=true;}).addCase(uploadImg.fulfilled,function(state,action){state.isLoading=false;state.isError=false;state.isSuccess=true;state.images.push(action.payload[0]);}).addCase(uploadImg.rejected,function(state,action){state.isLoading=false;state.isError=true;state.isSuccess=false;state.message=action.error;}).addCase(delImg.pending,function(state){state.isLoading=true;}).addCase(delImg.fulfilled,function(state,action){state.isLoading=false;state.isError=false;state.isSuccess=true;state.images=action.payload;}).addCase(delImg.rejected,function(state,action){state.isLoading=false;state.isError=true;state.isSuccess=false;state.message=\"Something went wrong\";}).addCase(loadImg.pending,function(state){state.isLoading=true;}).addCase(loadImg.fulfilled,function(state,action){state.isLoading=false;state.isError=false;state.isSuccess=true;state.images=action.payload;}).addCase(loadImg.rejected,function(state,action){state.isLoading=false;state.isError=true;state.isSuccess=false;state.message=\"Something went wrong\";}).addCase(resetImg,function(){return initialState;});}});export default uploadSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","createAction","uploadService","uploadImg","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","thunkAPI","formData","i","wrap","_callee$","_context","prev","next","FormData","length","append","abrupt","sent","t0","rejectWithValue","stop","_x","_x2","apply","arguments","delImg","_ref2","_callee2","id","_callee2$","_context2","deleteImg","images","filter","public_id","_x3","_x4","loadImg","_ref3","_callee4","_callee4$","_context4","_callee3","_callee3$","_context3","undefined","_x5","_x6","resetImg","initialState","isError","isLoading","isSuccess","message","uploadSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","push","payload","rejected","error","reducer"],"sources":["/Users/eymenozdemir/Desktop/HARMONI/labalsat/ecommerce-admin/src/features/upload/uploadSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk, createAction } from \"@reduxjs/toolkit\";\nimport uploadService from \"./uploadService\";\n\nexport const uploadImg = createAsyncThunk(\n  \"upload/images\",\n  async (data, thunkAPI) => {\n    try {\n      const formData = new FormData();\n      for (let i = 0; i < data.length; i++) {\n        formData.append(\"images\", data[i]);\n      }\n      return await uploadService.uploadImg(formData);\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error);\n    }\n  }\n);\n\nexport const delImg = createAsyncThunk(\n  \"delete/images\",\n  async (id, thunkAPI) => {\n    try {\n      await uploadService.deleteImg(id.id);\n      return id.images.filter(i => i.public_id!==id.id);\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error);\n    }\n  }\n);\n\nexport const loadImg = createAsyncThunk(\n  \"load/images\",\n  async (data, thunkAPI) => {\n    try {\n      await (async () => {\n        return; \n      })();\n      return data!==undefined ? data : [];\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error);\n    }\n  }\n);\n\nexport const resetImg = createAction(\"Reset_all\");\n\nconst initialState = {\n  images: [],\n  isError: false,\n  isLoading: false,\n  isSuccess: false,\n  message: \"\",\n};\nexport const uploadSlice = createSlice({\n  name: \"images\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(uploadImg.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(uploadImg.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.isError = false;\n        state.isSuccess = true;\n        state.images.push(action.payload[0]);\n      })\n      .addCase(uploadImg.rejected, (state, action) => {\n        state.isLoading = false;\n        state.isError = true;\n        state.isSuccess = false;\n        state.message = action.error;\n      })\n      .addCase(delImg.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(delImg.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.isError = false;\n        state.isSuccess = true;\n        state.images = action.payload;\n      })\n      .addCase(delImg.rejected, (state, action) => {\n        state.isLoading = false;\n        state.isError = true;\n        state.isSuccess = false;\n        state.message = \"Something went wrong\";\n      })\n      .addCase(loadImg.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(loadImg.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.isError = false;\n        state.isSuccess = true;\n        state.images = action.payload;\n      })\n      .addCase(loadImg.rejected, (state, action) => {\n        state.isLoading = false;\n        state.isError = true;\n        state.isSuccess = false;\n        state.message = \"Something went wrong\";\n      })\n      .addCase(resetImg, () => initialState);\n  },\n});\nexport default uploadSlice.reducer;\n"],"mappings":"oTAAA,OAASA,WAAW,CAAEC,gBAAgB,CAAEC,YAAY,KAAQ,kBAAkB,CAC9E,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAE3C,MAAO,IAAM,CAAAC,SAAS,CAAGH,gBAAgB,CACvC,eAAe,6BAAAI,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACf,SAAAC,QAAOC,IAAI,CAAEC,QAAQ,MAAAC,QAAA,CAAAC,CAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAEXL,QAAQ,CAAG,GAAI,CAAAO,QAAQ,CAAC,CAAC,CAC/B,IAASN,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGH,IAAI,CAACU,MAAM,CAAEP,CAAC,EAAE,CAAE,CACpCD,QAAQ,CAACS,MAAM,CAAC,QAAQ,CAAEX,IAAI,CAACG,CAAC,CAAC,CAAC,CACpC,CAACG,QAAA,CAAAE,IAAA,SACY,CAAAf,aAAa,CAACC,SAAS,CAACQ,QAAQ,CAAC,eAAAI,QAAA,CAAAM,MAAA,UAAAN,QAAA,CAAAO,IAAA,SAAAP,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAQ,EAAA,CAAAR,QAAA,oBAAAA,QAAA,CAAAM,MAAA,UAEvCX,QAAQ,CAACc,eAAe,CAAAT,QAAA,CAAAQ,EAAM,CAAC,2BAAAR,QAAA,CAAAU,IAAA,MAAAjB,OAAA,gBAEzC,mBAAAkB,EAAA,CAAAC,GAAA,SAAAvB,IAAA,CAAAwB,KAAA,MAAAC,SAAA,OACH,CAAC,CAED,MAAO,IAAM,CAAAC,MAAM,CAAG9B,gBAAgB,CACpC,eAAe,6BAAA+B,KAAA,CAAA1B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACf,SAAAyB,SAAOC,EAAE,CAAEvB,QAAQ,SAAAJ,mBAAA,GAAAO,IAAA,UAAAqB,UAAAC,SAAA,iBAAAA,SAAA,CAAAnB,IAAA,CAAAmB,SAAA,CAAAlB,IAAA,SAAAkB,SAAA,CAAAnB,IAAA,GAAAmB,SAAA,CAAAlB,IAAA,SAET,CAAAf,aAAa,CAACkC,SAAS,CAACH,EAAE,CAACA,EAAE,CAAC,eAAAE,SAAA,CAAAd,MAAA,UAC7BY,EAAE,CAACI,MAAM,CAACC,MAAM,CAAC,SAAA1B,CAAC,QAAI,CAAAA,CAAC,CAAC2B,SAAS,GAAGN,EAAE,CAACA,EAAE,GAAC,SAAAE,SAAA,CAAAnB,IAAA,GAAAmB,SAAA,CAAAZ,EAAA,CAAAY,SAAA,oBAAAA,SAAA,CAAAd,MAAA,UAE1CX,QAAQ,CAACc,eAAe,CAAAW,SAAA,CAAAZ,EAAM,CAAC,0BAAAY,SAAA,CAAAV,IAAA,MAAAO,QAAA,gBAEzC,mBAAAQ,GAAA,CAAAC,GAAA,SAAAV,KAAA,CAAAH,KAAA,MAAAC,SAAA,OACH,CAAC,CAED,MAAO,IAAM,CAAAa,OAAO,CAAG1C,gBAAgB,CACrC,aAAa,6BAAA2C,KAAA,CAAAtC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACb,SAAAqC,SAAOnC,IAAI,CAAEC,QAAQ,SAAAJ,mBAAA,GAAAO,IAAA,UAAAgC,UAAAC,SAAA,iBAAAA,SAAA,CAAA9B,IAAA,CAAA8B,SAAA,CAAA7B,IAAA,SAAA6B,SAAA,CAAA9B,IAAA,GAAA8B,SAAA,CAAA7B,IAAA,SAEX,CAAAZ,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAwC,SAAA,SAAAzC,mBAAA,GAAAO,IAAA,UAAAmC,UAAAC,SAAA,iBAAAA,SAAA,CAAAjC,IAAA,CAAAiC,SAAA,CAAAhC,IAAA,gBAAAgC,SAAA,CAAA5B,MAAA,mCAAA4B,SAAA,CAAAxB,IAAA,MAAAsB,QAAA,GAEN,GAAE,CAAC,eAAAD,SAAA,CAAAzB,MAAA,UACGZ,IAAI,GAAGyC,SAAS,CAAGzC,IAAI,CAAG,EAAE,SAAAqC,SAAA,CAAA9B,IAAA,GAAA8B,SAAA,CAAAvB,EAAA,CAAAuB,SAAA,oBAAAA,SAAA,CAAAzB,MAAA,UAE5BX,QAAQ,CAACc,eAAe,CAAAsB,SAAA,CAAAvB,EAAM,CAAC,0BAAAuB,SAAA,CAAArB,IAAA,MAAAmB,QAAA,gBAEzC,mBAAAO,GAAA,CAAAC,GAAA,SAAAT,KAAA,CAAAf,KAAA,MAAAC,SAAA,OACH,CAAC,CAED,MAAO,IAAM,CAAAwB,QAAQ,CAAGpD,YAAY,CAAC,WAAW,CAAC,CAEjD,GAAM,CAAAqD,YAAY,CAAG,CACnBjB,MAAM,CAAE,EAAE,CACVkB,OAAO,CAAE,KAAK,CACdC,SAAS,CAAE,KAAK,CAChBC,SAAS,CAAE,KAAK,CAChBC,OAAO,CAAE,EACX,CAAC,CACD,MAAO,IAAM,CAAAC,WAAW,CAAG5D,WAAW,CAAC,CACrC6D,IAAI,CAAE,QAAQ,CACdN,YAAY,CAAZA,YAAY,CACZO,QAAQ,CAAE,CAAC,CAAC,CACZC,aAAa,CAAE,SAAAA,cAACC,OAAO,CAAK,CAC1BA,OAAO,CACJC,OAAO,CAAC7D,SAAS,CAAC8D,OAAO,CAAE,SAACC,KAAK,CAAK,CACrCA,KAAK,CAACV,SAAS,CAAG,IAAI,CACxB,CAAC,CAAC,CACDQ,OAAO,CAAC7D,SAAS,CAACgE,SAAS,CAAE,SAACD,KAAK,CAAEE,MAAM,CAAK,CAC/CF,KAAK,CAACV,SAAS,CAAG,KAAK,CACvBU,KAAK,CAACX,OAAO,CAAG,KAAK,CACrBW,KAAK,CAACT,SAAS,CAAG,IAAI,CACtBS,KAAK,CAAC7B,MAAM,CAACgC,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC,CACtC,CAAC,CAAC,CACDN,OAAO,CAAC7D,SAAS,CAACoE,QAAQ,CAAE,SAACL,KAAK,CAAEE,MAAM,CAAK,CAC9CF,KAAK,CAACV,SAAS,CAAG,KAAK,CACvBU,KAAK,CAACX,OAAO,CAAG,IAAI,CACpBW,KAAK,CAACT,SAAS,CAAG,KAAK,CACvBS,KAAK,CAACR,OAAO,CAAGU,MAAM,CAACI,KAAK,CAC9B,CAAC,CAAC,CACDR,OAAO,CAAClC,MAAM,CAACmC,OAAO,CAAE,SAACC,KAAK,CAAK,CAClCA,KAAK,CAACV,SAAS,CAAG,IAAI,CACxB,CAAC,CAAC,CACDQ,OAAO,CAAClC,MAAM,CAACqC,SAAS,CAAE,SAACD,KAAK,CAAEE,MAAM,CAAK,CAC5CF,KAAK,CAACV,SAAS,CAAG,KAAK,CACvBU,KAAK,CAACX,OAAO,CAAG,KAAK,CACrBW,KAAK,CAACT,SAAS,CAAG,IAAI,CACtBS,KAAK,CAAC7B,MAAM,CAAG+B,MAAM,CAACE,OAAO,CAC/B,CAAC,CAAC,CACDN,OAAO,CAAClC,MAAM,CAACyC,QAAQ,CAAE,SAACL,KAAK,CAAEE,MAAM,CAAK,CAC3CF,KAAK,CAACV,SAAS,CAAG,KAAK,CACvBU,KAAK,CAACX,OAAO,CAAG,IAAI,CACpBW,KAAK,CAACT,SAAS,CAAG,KAAK,CACvBS,KAAK,CAACR,OAAO,CAAG,sBAAsB,CACxC,CAAC,CAAC,CACDM,OAAO,CAACtB,OAAO,CAACuB,OAAO,CAAE,SAACC,KAAK,CAAK,CACnCA,KAAK,CAACV,SAAS,CAAG,IAAI,CACxB,CAAC,CAAC,CACDQ,OAAO,CAACtB,OAAO,CAACyB,SAAS,CAAE,SAACD,KAAK,CAAEE,MAAM,CAAK,CAC7CF,KAAK,CAACV,SAAS,CAAG,KAAK,CACvBU,KAAK,CAACX,OAAO,CAAG,KAAK,CACrBW,KAAK,CAACT,SAAS,CAAG,IAAI,CACtBS,KAAK,CAAC7B,MAAM,CAAG+B,MAAM,CAACE,OAAO,CAC/B,CAAC,CAAC,CACDN,OAAO,CAACtB,OAAO,CAAC6B,QAAQ,CAAE,SAACL,KAAK,CAAEE,MAAM,CAAK,CAC5CF,KAAK,CAACV,SAAS,CAAG,KAAK,CACvBU,KAAK,CAACX,OAAO,CAAG,IAAI,CACpBW,KAAK,CAACT,SAAS,CAAG,KAAK,CACvBS,KAAK,CAACR,OAAO,CAAG,sBAAsB,CACxC,CAAC,CAAC,CACDM,OAAO,CAACX,QAAQ,CAAE,iBAAM,CAAAC,YAAY,GAAC,CAC1C,CACF,CAAC,CAAC,CACF,cAAe,CAAAK,WAAW,CAACc,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}