{"ast":null,"code":"import _slicedToArray from\"/Users/eymenozdemir/Desktop/HARMONI/labalsat/ecommerce-admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Table}from\"antd\";import{BiEdit}from\"react-icons/bi\";import{AiFillDelete}from\"react-icons/ai\";import{useDispatch,useSelector}from\"react-redux\";import{getProducts,deleteAProduct}from\"../features/product/productSlice\";import CustomModal from\"../components/CustomModal\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var columns=[{title:\"SNo\",dataIndex:\"key\"},{title:\"ID\",dataIndex:\"id\"},{title:\"owner ID\",dataIndex:\"ownerId\"},{title:\"Title\",dataIndex:\"title\",sorter:function sorter(a,b){return a.title.length-b.title.length;}},{title:\"Model\",dataIndex:\"model\",sorter:function sorter(a,b){return a.model.length-b.model.length;}},{title:\"Category\",dataIndex:\"category\",sorter:function sorter(a,b){return a.category.length-b.category.length;}},{title:\"Condition\",dataIndex:\"condition\"},{title:\"Price\",dataIndex:\"price\",sorter:function sorter(a,b){return a.price-b.price;}},{title:\"Status\",dataIndex:\"status\"},{title:\"Action\",dataIndex:\"action\"}];var Productlist=function Productlist(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),prodId=_useState4[0],setProdId=_useState4[1];var showModal=function showModal(e){setOpen(true);setProdId(e);};var hideModal=function hideModal(){setOpen(false);};var dispatch=useDispatch();useEffect(function(){dispatch(getProducts());},[]);var productState=useSelector(function(state){return state.product.products;});var data1=[];var _loop=function _loop(i){var tempPrice=productState[i].price===0||productState[i].price===\"\"?\"Request a Quote\":productState[i].currency+\" \"+productState[i].price;data1.push({key:i+1,id:productState[i]._id.substr(productState[i]._id.length-6),ownerId:productState[i].ownerId,title:productState[i].title,model:productState[i].brand+\" \"+productState[i].model+\" \"+productState[i].submodel,category:productState[i].category,condition:productState[i].condition,price:tempPrice,status:productState[i].status,action:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/product/\".concat(productState[i]._id),className:\"me-3 fs-3 text-danger\",children:/*#__PURE__*/_jsx(BiEdit,{})}),/*#__PURE__*/_jsx(\"button\",{className:\"fs-3 text-danger bg-transparent border-0\",onClick:function onClick(){return showModal(productState[i]._id);},children:/*#__PURE__*/_jsx(AiFillDelete,{})})]})});};for(var i=0;i<productState.length;i++){_loop(i);}var deleteProduct=function deleteProduct(e){dispatch(deleteAProduct(e));setOpen(false);setTimeout(function(){dispatch(getProducts());},100);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-4 title\",children:\"Products\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:data1})}),/*#__PURE__*/_jsx(CustomModal,{hideModal:hideModal,open:open,performAction:function performAction(){deleteProduct(prodId);},title:\"Are you sure you want to delete this Product ?\"})]});};export default Productlist;","map":{"version":3,"names":["React","useEffect","useState","Table","BiEdit","AiFillDelete","useDispatch","useSelector","getProducts","deleteAProduct","CustomModal","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","columns","title","dataIndex","sorter","a","b","length","model","category","price","Productlist","_useState","_useState2","_slicedToArray","open","setOpen","_useState3","_useState4","prodId","setProdId","showModal","e","hideModal","dispatch","productState","state","product","products","data1","_loop","i","tempPrice","currency","push","key","id","_id","substr","ownerId","brand","submodel","condition","status","action","children","to","concat","className","onClick","deleteProduct","setTimeout","dataSource","performAction"],"sources":["/Users/eymenozdemir/Desktop/HARMONI/labalsat/ecommerce-admin/src/pages/Productlist.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Table } from \"antd\";\nimport { BiEdit } from \"react-icons/bi\";\nimport { AiFillDelete } from \"react-icons/ai\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getProducts, deleteAProduct} from \"../features/product/productSlice\";\nimport CustomModal from \"../components/CustomModal\";\nimport { Link } from \"react-router-dom\";\nconst columns = [\n  {\n    title: \"SNo\",\n    dataIndex: \"key\",\n  },\n  {\n    title: \"ID\",\n    dataIndex: \"id\",\n  },\n  {\n    title: \"owner ID\",\n    dataIndex: \"ownerId\",\n  },\n  {\n    title: \"Title\",\n    dataIndex: \"title\",\n    sorter: (a, b) => a.title.length - b.title.length,\n  },\n  {\n    title: \"Model\",\n    dataIndex: \"model\",\n    sorter: (a, b) => a.model.length - b.model.length,\n  },\n  {\n    title: \"Category\",\n    dataIndex: \"category\",\n    sorter: (a, b) => a.category.length - b.category.length,\n  },\n  {\n    title: \"Condition\",\n    dataIndex: \"condition\",\n  },\n  {\n    title: \"Price\",\n    dataIndex: \"price\",\n    sorter: (a, b) => a.price - b.price,\n  },\n  {\n    title: \"Status\",\n    dataIndex: \"status\",\n  },\n  {\n    title: \"Action\",\n    dataIndex: \"action\",\n  },\n];\n\nconst Productlist = () => {\n  const [open, setOpen] = useState(false);\n  const [prodId, setProdId] = useState(\"\");\n  const showModal = (e) => {\n    setOpen(true);\n    setProdId(e);\n  };\n\n  const hideModal = () => {\n    setOpen(false);\n  };\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getProducts());\n  }, []);\n  const productState = useSelector((state) => state.product.products);\n  const data1 = [];\n  for (let i = 0; i < productState.length; i++) {\n    \n    let tempPrice = (productState[i].price===0 || productState[i].price===\"\") ? \"Request a Quote\" : productState[i].currency + \" \" + productState[i].price;\n    data1.push({\n      key: i + 1,\n      id: productState[i]._id.substr(productState[i]._id.length - 6),\n      ownerId: productState[i].ownerId,\n      title: productState[i].title,\n      model: productState[i].brand + \" \" + productState[i].model + \" \" + productState[i].submodel,\n      category: productState[i].category,\n      condition: productState[i].condition,\n      price: tempPrice,\n      status: productState[i].status,\n      action: (\n        <>\n          <Link\n            to={`/admin/product/${productState[i]._id}`}\n            className=\"me-3 fs-3 text-danger\"\n          >\n            <BiEdit />\n          </Link>\n          <button\n            className=\"fs-3 text-danger bg-transparent border-0\"\n            onClick={() => showModal(productState[i]._id)}\n          >\n            <AiFillDelete />\n          </button>\n        </>\n      ),\n    });\n  }\n  const deleteProduct = (e) => {\n    dispatch(deleteAProduct(e));\n    setOpen(false);\n    setTimeout(() => {\n      dispatch(getProducts());\n    }, 100);\n  };\n  return (\n    <div>\n      <h3 className=\"mb-4 title\">Products</h3>\n      <div>\n        <Table columns={columns} dataSource={data1} />\n      </div>\n      <CustomModal\n        hideModal={hideModal}\n        open={open}\n        performAction={() => {\n          deleteProduct(prodId);\n        }}\n        title=\"Are you sure you want to delete this Product ?\"\n      />\n    </div>\n  );\n};\n\nexport default Productlist;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}