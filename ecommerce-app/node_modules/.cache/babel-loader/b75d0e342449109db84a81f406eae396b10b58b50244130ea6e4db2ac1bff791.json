{"ast":null,"code":"import React,{useEffect}from'react';import{Link,useLocation}from\"react-router-dom\";import{useDispatch,useSelector}from'react-redux';import prodcompare from\"../images/prodcompare.svg\";import wish from\"../images/wish.svg\";import redWish from\"../images/wish-black.svg\";import{addToWishlist}from'../features/products/productSlice';import{getUserProductWishlist}from'../features/user/userSlice';import{useTranslation}from'react-i18next';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var StoreCard=function StoreCard(props){var _JSON$parse;var getTokenFromLocalStorage=localStorage.getItem(\"customer\")?JSON.parse(localStorage.getItem(\"customer\")).token:null;var config2={headers:{Authorization:\"Bearer \".concat(getTokenFromLocalStorage!==null?getTokenFromLocalStorage:\"\"),Accept:\"application/json\",User:(_JSON$parse=JSON.parse(localStorage.getItem(\"customer\")))===null||_JSON$parse===void 0?void 0:_JSON$parse._id}};var _useTranslation=useTranslation(),t=_useTranslation.t;var data=props.data;var dispatch=useDispatch();var location=useLocation();var wishState=useSelector(function(state){var _state$user,_state$user$wishlist;return state===null||state===void 0?void 0:(_state$user=state.user)===null||_state$user===void 0?void 0:(_state$user$wishlist=_state$user.wishlist)===null||_state$user$wishlist===void 0?void 0:_state$user$wishlist.wishlist;});useEffect(function(){dispatch(getUserProductWishlist(config2));},[wishState]);var addToWish=function addToWish(id){dispatch(addToWishlist({id:id,config2:config2}));};//dangerouslySetInnerHTML={{ __html: item?.description}} to dodge <p> tags\nreturn/*#__PURE__*/_jsx(_Fragment,{children:data===null||data===void 0?void 0:data.map(function(item,index){var _item$images$,_item$images$2;return/*#__PURE__*/_jsx(\"div\",{className:\"gr-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-card position-relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"wishlist-icon position-absolute\",children:/*#__PURE__*/_jsx(\"button\",{className:\"border-0 bg-transparent\",onClick:function onClick(e){addToWish(item===null||item===void 0?void 0:item._id);},children:/*#__PURE__*/_jsx(\"img\",{src:(wishState===null||wishState===void 0?void 0:wishState.filter(function(i){return i._id===(item===null||item===void 0?void 0:item._id);}).length)>0?redWish:wish,alt:\"wishlist\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-image d-flex justify-content-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:item===null||item===void 0?void 0:(_item$images$=item.images[0])===null||_item$images$===void 0?void 0:_item$images$.url,className:\"img-fluid\",alt:\"product_img\"}),/*#__PURE__*/_jsx(\"img\",{src:item!==null&&item!==void 0&&item.images[1]?item.images[1].url:item===null||item===void 0?void 0:(_item$images$2=item.images[0])===null||_item$images$2===void 0?void 0:_item$images$2.url,className:\"img-fluid\",alt:\"product_img\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-details mt-3\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"brand\",children:item===null||item===void 0?void 0:item.brand}),/*#__PURE__*/_jsx(\"h5\",{className:\"product-title\",children:item===null||item===void 0?void 0:item.title}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",dangerouslySetInnerHTML:{__html:item===null||item===void 0?void 0:item.description}}),(item===null||item===void 0?void 0:item.price)===0||(item===null||item===void 0?void 0:item.price)===\"\"||(item===null||item===void 0?void 0:item.price)===null?/*#__PURE__*/_jsx(\"p\",{className:\"price\",children:t(\"RequestQuote\")}):/*#__PURE__*/_jsxs(\"p\",{className:\"price\",children:[item!==null&&item!==void 0&&item.currency?item===null||item===void 0?void 0:item.currency:\"USD\",\" \",item===null||item===void 0?void 0:item.price]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"action-bar position-absolute\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-column gap-15\",children:/*#__PURE__*/_jsx(Link,{to:'/product/'+(item===null||item===void 0?void 0:item._id),className:\"border-0 button detail-button\",children:t(\"DETAILS\")})})})]})},index);})});};export default StoreCard;","map":{"version":3,"names":["React","useEffect","Link","useLocation","useDispatch","useSelector","prodcompare","wish","redWish","addToWishlist","getUserProductWishlist","useTranslation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StoreCard","props","_JSON$parse","getTokenFromLocalStorage","localStorage","getItem","JSON","parse","token","config2","headers","Authorization","concat","Accept","User","_id","_useTranslation","t","data","dispatch","location","wishState","state","_state$user","_state$user$wishlist","user","wishlist","addToWish","id","children","map","item","index","_item$images$","_item$images$2","className","onClick","e","src","filter","i","length","alt","images","url","brand","title","dangerouslySetInnerHTML","__html","description","price","currency","to"],"sources":["/Users/eymenozdemir/Desktop/HARMONI/labalsat/ecommerce-app/src/components/StoreCard.js"],"sourcesContent":["import React, {useEffect} from 'react';\r\nimport {Link, useLocation} from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport prodcompare from \"../images/prodcompare.svg\";\r\nimport wish from \"../images/wish.svg\";\r\nimport redWish from \"../images/wish-black.svg\";\r\nimport { addToWishlist } from '../features/products/productSlice';\r\nimport { getUserProductWishlist } from '../features/user/userSlice';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst StoreCard = (props) => {\r\n  \r\n  const getTokenFromLocalStorage = localStorage.getItem(\"customer\")\r\n  ? JSON.parse(localStorage.getItem(\"customer\")).token\r\n  : null;\r\n\r\n  const config2 = {\r\n      headers: {\r\n      Authorization: `Bearer ${\r\n          getTokenFromLocalStorage !== null ? getTokenFromLocalStorage : \"\"\r\n      }`,\r\n      Accept: \"application/json\",\r\n      User: JSON.parse(localStorage.getItem(\"customer\"))?._id,\r\n      },\r\n  };\r\n\r\n  const { t } = useTranslation();\r\n  const { data } = props;\r\n  const dispatch = useDispatch();\r\n  let location = useLocation();\r\n  const wishState = useSelector((state) => state?.user?.wishlist?.wishlist);\r\n  useEffect(() => {\r\n    dispatch(getUserProductWishlist(config2));\r\n  }, [wishState]);\r\n  const addToWish = (id) => {\r\n    dispatch(addToWishlist({id:id, config2:config2}));\r\n  }\r\n//dangerouslySetInnerHTML={{ __html: item?.description}} to dodge <p> tags\r\n  return (\r\n    <>\r\n      {\r\n        data?.map((item, index) => {\r\n          return (\r\n            <div key={index} className='gr-3'>\r\n            {/* eslint-disable-next-line */}\r\n              <div className=\"product-card position-relative\">\r\n                <div className=\"wishlist-icon position-absolute\">\r\n                  <button className='border-0 bg-transparent' onClick={(e) => {addToWish(item?._id)}} ><img src={wishState?.filter(i => i._id === item?._id).length > 0 ? redWish : wish} alt=\"wishlist\" /></button>\r\n                </div>\r\n                  <div className=\"product-image d-flex justify-content-center\">\r\n                      <img src={item?.images[0]?.url} className='img-fluid' alt=\"product_img\" />\r\n                      <img src={item?.images[1] ? item.images[1].url : item?.images[0]?.url} className='img-fluid' alt=\"product_img\" />\r\n                  </div>\r\n                  <div className=\"product-details mt-3\">\r\n                      <h6 className=\"brand\">{item?.brand}</h6>\r\n                      <h5 className='product-title'>{item?.title}</h5>\r\n                      <p className=\"description\" dangerouslySetInnerHTML={{ __html: item?.description}} ></p>\r\n                      {(item?.price===0 || item?.price===\"\" || item?.price===null) ? <p className=\"price\">{t(\"RequestQuote\")}</p> : <p className=\"price\">{item?.currency ? item?.currency : \"USD\"} {item?.price}</p>}\r\n                  </div>\r\n                  <div className=\"action-bar position-absolute\">\r\n                    <div className=\"d-flex flex-column gap-15\">\r\n                      {/*<button className='border-0 bg-transparent'><img src={prodcompare} alt=\"compare\" /></button>*/}\r\n                      <Link to={'/product/'+ item?._id} className='border-0 button detail-button'>{t(\"DETAILS\")}</Link>\r\n                      {/*<button className='border-0 bg-transparent'><img src={addcart} alt=\"addcart\" /></button>*/}\r\n                    </div>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n      \r\n    </>\r\n  );\r\n};\r\n\r\nexport default StoreCard;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}