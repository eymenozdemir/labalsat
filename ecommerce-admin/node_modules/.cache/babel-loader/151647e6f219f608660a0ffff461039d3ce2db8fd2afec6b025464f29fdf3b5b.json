{"ast":null,"code":"import{React,useEffect}from\"react\";import CustomInput from\"../components/CustomInput\";import{useDispatch,useSelector}from\"react-redux\";import{useLocation,useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import*as yup from\"yup\";import{useFormik}from\"formik\";import{createNewblogCat,getABlogCat,resetState,updateABlogCat}from\"../features/bcategory/bcategorySlice\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var schema=yup.object().shape({title:yup.string().required(\"Category Name is Required\")});var Addblogcat=function Addblogcat(){var dispatch=useDispatch();var navigate=useNavigate();var location=useLocation();var getBlogCatId=location.pathname.split(\"/\")[3];var newBlogCategory=useSelector(function(state){return state.bCategory;});var isSuccess=newBlogCategory.isSuccess,isError=newBlogCategory.isError,isLoading=newBlogCategory.isLoading,createBlogCategory=newBlogCategory.createBlogCategory,blogCatName=newBlogCategory.blogCatName,updatedBlogCategory=newBlogCategory.updatedBlogCategory;useEffect(function(){if(getBlogCatId!==undefined){dispatch(getABlogCat(getBlogCatId));}else{dispatch(resetState());}},[getBlogCatId]);useEffect(function(){if(isSuccess&&createBlogCategory){toast.success(\"Blog Category Added Successfullly!\");}if(isSuccess&&updatedBlogCategory){toast.success(\"Blog Category Updated Successfullly!\");navigate(\"/admin/blog-category-list\");}if(isError){toast.error(\"Something Went Wrong!\");}},[isSuccess,isError,isLoading]);var formik=useFormik({enableReinitialize:true,initialValues:{title:blogCatName||\"\"},validationSchema:schema,onSubmit:function onSubmit(values){var data={id:getBlogCatId,blogCatData:values};if(getBlogCatId!==undefined){dispatch(updateABlogCat(data));dispatch(resetState());}else{dispatch(createNewblogCat(values));formik.resetForm();setTimeout(function(){dispatch(resetState());},300);}}});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"mb-4  title\",children:[getBlogCatId!==undefined?\"Edit\":\"Add\",\" Blog Category\"]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(CustomInput,{type:\"text\",name:\"title\",onChng:formik.handleChange(\"title\"),onBlr:formik.handleBlur(\"title\"),val:formik.values.title,label:\"Enter Blog Category\",id:\"blogcat\"}),/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:formik.touched.title&&formik.errors.title}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-success border-0 rounded-3 my-5\",type:\"submit\",children:[getBlogCatId!==undefined?\"Edit\":\"Add\",\" Blog Category\"]})]})})]});};export default Addblogcat;","map":{"version":3,"names":["React","useEffect","CustomInput","useDispatch","useSelector","useLocation","useNavigate","toast","yup","useFormik","createNewblogCat","getABlogCat","resetState","updateABlogCat","jsxs","_jsxs","jsx","_jsx","schema","object","shape","title","string","required","Addblogcat","dispatch","navigate","location","getBlogCatId","pathname","split","newBlogCategory","state","bCategory","isSuccess","isError","isLoading","createBlogCategory","blogCatName","updatedBlogCategory","undefined","success","error","formik","enableReinitialize","initialValues","validationSchema","onSubmit","values","data","id","blogCatData","resetForm","setTimeout","children","className","action","handleSubmit","type","name","onChng","handleChange","onBlr","handleBlur","val","label","touched","errors"],"sources":["/Users/eymenozdemir/Desktop/HARMONI/labalsat/ecommerce-admin/src/pages/Addblogcat.js"],"sourcesContent":["import { React, useEffect } from \"react\";\nimport CustomInput from \"../components/CustomInput\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport * as yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport {\n  createNewblogCat,\n  getABlogCat,\n  resetState,\n  updateABlogCat,\n} from \"../features/bcategory/bcategorySlice\";\nlet schema = yup.object().shape({\n  title: yup.string().required(\"Category Name is Required\"),\n});\nconst Addblogcat = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const getBlogCatId = location.pathname.split(\"/\")[3];\n  const newBlogCategory = useSelector((state) => state.bCategory);\n  const {\n    isSuccess,\n    isError,\n    isLoading,\n    createBlogCategory,\n    blogCatName,\n    updatedBlogCategory,\n  } = newBlogCategory;\n  useEffect(() => {\n    if (getBlogCatId !== undefined) {\n      dispatch(getABlogCat(getBlogCatId));\n    } else {\n      dispatch(resetState());\n    }\n  }, [getBlogCatId]);\n  useEffect(() => {\n    if (isSuccess && createBlogCategory) {\n      toast.success(\"Blog Category Added Successfullly!\");\n    }\n    if (isSuccess && updatedBlogCategory) {\n      toast.success(\"Blog Category Updated Successfullly!\");\n      navigate(\"/admin/blog-category-list\");\n    }\n    if (isError) {\n      toast.error(\"Something Went Wrong!\");\n    }\n  }, [isSuccess, isError, isLoading]);\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      title: blogCatName || \"\",\n    },\n    validationSchema: schema,\n    onSubmit: (values) => {\n      const data = { id: getBlogCatId, blogCatData: values };\n      if (getBlogCatId !== undefined) {\n        dispatch(updateABlogCat(data));\n        dispatch(resetState());\n      } else {\n        dispatch(createNewblogCat(values));\n        formik.resetForm();\n        setTimeout(() => {\n          dispatch(resetState());\n        }, 300);\n      }\n    },\n  });\n  return (\n    <div>\n      <h3 className=\"mb-4  title\">\n        {getBlogCatId !== undefined ? \"Edit\" : \"Add\"} Blog Category\n      </h3>\n      <div>\n        <form action=\"\" onSubmit={formik.handleSubmit}>\n          <CustomInput\n            type=\"text\"\n            name=\"title\"\n            onChng={formik.handleChange(\"title\")}\n            onBlr={formik.handleBlur(\"title\")}\n            val={formik.values.title}\n            label=\"Enter Blog Category\"\n            id=\"blogcat\"\n          />\n          <div className=\"error\">\n            {formik.touched.title && formik.errors.title}\n          </div>\n          <button\n            className=\"btn btn-success border-0 rounded-3 my-5\"\n            type=\"submit\"\n          >\n            {getBlogCatId !== undefined ? \"Edit\" : \"Add\"} Blog Category\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Addblogcat;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}