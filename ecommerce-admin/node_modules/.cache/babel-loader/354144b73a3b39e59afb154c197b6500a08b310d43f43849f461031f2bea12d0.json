{"ast":null,"code":"import{React,useEffect}from\"react\";import CustomInput from\"../components/CustomInput\";import{useDispatch,useSelector}from\"react-redux\";import{useLocation,useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import*as yup from\"yup\";import{useFormik}from\"formik\";import{createColor,getAColor,resetState,updateAColor}from\"../features/color/colorSlice\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var schema=yup.object().shape({title:yup.string().required(\"Color is Required\")});var Addcolor=function Addcolor(){var dispatch=useDispatch();var navigate=useNavigate();var location=useLocation();var getColorId=location.pathname.split(\"/\")[3];var newColor=useSelector(function(state){return state.color;});var isSuccess=newColor.isSuccess,isError=newColor.isError,isLoading=newColor.isLoading,createdColor=newColor.createdColor,updatedColor=newColor.updatedColor,colorName=newColor.colorName;useEffect(function(){if(getColorId!==undefined){dispatch(getAColor(getColorId));}else{dispatch(resetState());}},[getColorId]);useEffect(function(){if(isSuccess&&createdColor){toast.success(\"Color Added Successfullly!\");}if(isSuccess&&updatedColor){toast.success(\"Color Updated Successfullly!\");navigate(\"/admin/list-color\");}if(isError){toast.error(\"Something Went Wrong!\");}},[isSuccess,isError,isLoading,createdColor]);var formik=useFormik({enableReinitialize:true,initialValues:{title:colorName||\"\"},validationSchema:schema,onSubmit:function onSubmit(values){if(getColorId!==undefined){var data={id:getColorId,colorData:values};dispatch(updateAColor(data));dispatch(resetState());}else{dispatch(createColor(values));formik.resetForm();setTimeout(function(){dispatch(resetState());},300);}}});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"mb-4 title\",children:[getColorId!==undefined?\"Edit\":\"Add\",\" Color\"]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(CustomInput,{type:\"color\",label:\"Enter Product Color\",onChng:formik.handleChange(\"title\"),onBlr:formik.handleBlur(\"title\"),val:formik.values.title,id:\"color\"}),/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:formik.touched.title&&formik.errors.title}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-success border-0 rounded-3 my-5\",type:\"submit\",children:[getColorId!==undefined?\"Edit\":\"Add\",\" Color\"]})]})})]});};export default Addcolor;","map":{"version":3,"names":["React","useEffect","CustomInput","useDispatch","useSelector","useLocation","useNavigate","toast","yup","useFormik","createColor","getAColor","resetState","updateAColor","jsxs","_jsxs","jsx","_jsx","schema","object","shape","title","string","required","Addcolor","dispatch","navigate","location","getColorId","pathname","split","newColor","state","color","isSuccess","isError","isLoading","createdColor","updatedColor","colorName","undefined","success","error","formik","enableReinitialize","initialValues","validationSchema","onSubmit","values","data","id","colorData","resetForm","setTimeout","children","className","action","handleSubmit","type","label","onChng","handleChange","onBlr","handleBlur","val","touched","errors"],"sources":["/Users/eymenozdemir/Desktop/HARMONI/labalsat/ecommerce-admin/src/pages/Addcolor.js"],"sourcesContent":["import { React, useEffect } from \"react\";\nimport CustomInput from \"../components/CustomInput\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport * as yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport {\n  createColor,\n  getAColor,\n  resetState,\n  updateAColor,\n} from \"../features/color/colorSlice\";\nlet schema = yup.object().shape({\n  title: yup.string().required(\"Color is Required\"),\n});\nconst Addcolor = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const getColorId = location.pathname.split(\"/\")[3];\n  const newColor = useSelector((state) => state.color);\n  const {\n    isSuccess,\n    isError,\n    isLoading,\n    createdColor,\n    updatedColor,\n    colorName,\n  } = newColor;\n  useEffect(() => {\n    if (getColorId !== undefined) {\n      dispatch(getAColor(getColorId));\n    } else {\n      dispatch(resetState());\n    }\n  }, [getColorId]);\n  useEffect(() => {\n    if (isSuccess && createdColor) {\n      toast.success(\"Color Added Successfullly!\");\n    }\n    if (isSuccess && updatedColor) {\n      toast.success(\"Color Updated Successfullly!\");\n      navigate(\"/admin/list-color\");\n    }\n    if (isError) {\n      toast.error(\"Something Went Wrong!\");\n    }\n  }, [isSuccess, isError, isLoading, createdColor]);\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      title: colorName || \"\",\n    },\n    validationSchema: schema,\n    onSubmit: (values) => {\n      if (getColorId !== undefined) {\n        const data = { id: getColorId, colorData: values };\n        dispatch(updateAColor(data));\n        dispatch(resetState());\n      } else {\n        dispatch(createColor(values));\n        formik.resetForm();\n        setTimeout(() => {\n          dispatch(resetState());\n        }, 300);\n      }\n    },\n  });\n  return (\n    <div>\n      <h3 className=\"mb-4 title\">\n        {getColorId !== undefined ? \"Edit\" : \"Add\"} Color\n      </h3>\n      <div>\n        <form action=\"\" onSubmit={formik.handleSubmit}>\n          <CustomInput\n            type=\"color\"\n            label=\"Enter Product Color\"\n            onChng={formik.handleChange(\"title\")}\n            onBlr={formik.handleBlur(\"title\")}\n            val={formik.values.title}\n            id=\"color\"\n          />\n          <div className=\"error\">\n            {formik.touched.title && formik.errors.title}\n          </div>\n          <button\n            className=\"btn btn-success border-0 rounded-3 my-5\"\n            type=\"submit\"\n          >\n            {getColorId !== undefined ? \"Edit\" : \"Add\"} Color\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Addcolor;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}