{"ast":null,"code":"import _slicedToArray from\"/Users/eymenozdemir/Desktop/HARMONI/labalsat/ecommerce-admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Table}from\"antd\";import{useDispatch,useSelector}from\"react-redux\";import{deleteAEnquiry,getEnquiries,resetState,updateAEnquiry}from\"../features/enquiry/enquirySlice\";import{AiFillDelete,AiOutlineEye}from\"react-icons/ai\";import{Link}from\"react-router-dom\";import CustomModal from\"../components/CustomModal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var columns=[{title:\"SNo\",dataIndex:\"key\"},{title:\"Name\",dataIndex:\"name\"},{title:\"Email\",dataIndex:\"email\"},{title:\"Mobile\",dataIndex:\"mobile\"},{title:\"Staus\",dataIndex:\"status\"},{title:\"Action\",dataIndex:\"action\"}];var Enquiries=function Enquiries(){var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),enqId=_useState4[0],setenqId=_useState4[1];var showModal=function showModal(e){setOpen(true);setenqId(e);};var hideModal=function hideModal(){setOpen(false);};useEffect(function(){dispatch(resetState());dispatch(getEnquiries());},[]);var enqState=useSelector(function(state){return state.enquiry.enquiries;});var data1=[];var _loop=function _loop(i){data1.push({key:i+1,name:enqState[i].name,email:enqState[i].email,mobile:enqState[i].mobile,status:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"select\",{name:\"\",defaultValue:enqState[i].status?enqState[i].status:\"Submitted\",className:\"form-control form-select\",id:\"\",onChange:function onChange(e){return setEnquiryStatus(e.target.value,enqState[i]._id);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Submitted\",children:\"Submitted\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Contacted\",children:\"Contacted\"}),/*#__PURE__*/_jsx(\"option\",{value:\"In Progress\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Resolved\",children:\"Resolved\"}),/*#__PURE__*/_jsx(\"option\",{value:\"MAIL LIST\",children:\"MAIL LIST\"})]})}),action:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{className:\"ms-3 fs-3 text-danger\",to:\"/admin/enquiries/\".concat(enqState[i]._id),children:/*#__PURE__*/_jsx(AiOutlineEye,{})}),/*#__PURE__*/_jsx(\"button\",{className:\"ms-3 fs-3 text-danger bg-transparent border-0\",onClick:function onClick(){return showModal(enqState[i]._id);},children:/*#__PURE__*/_jsx(AiFillDelete,{})})]})});};for(var i=0;i<enqState.length;i++){_loop(i);}var setEnquiryStatus=function setEnquiryStatus(e,i){var data={id:i,enqData:e};dispatch(updateAEnquiry(data));};var deleteEnq=function deleteEnq(e){dispatch(deleteAEnquiry(e));setOpen(false);setTimeout(function(){dispatch(getEnquiries());},100);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-4 title\",children:\"Enquiries\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:data1})}),/*#__PURE__*/_jsx(CustomModal,{hideModal:hideModal,open:open,performAction:function performAction(){deleteEnq(enqId);},title:\"Are you sure you want to delete this enquiry?\"})]});};export default Enquiries;","map":{"version":3,"names":["React","useEffect","useState","Table","useDispatch","useSelector","deleteAEnquiry","getEnquiries","resetState","updateAEnquiry","AiFillDelete","AiOutlineEye","Link","CustomModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","columns","title","dataIndex","Enquiries","dispatch","_useState","_useState2","_slicedToArray","open","setOpen","_useState3","_useState4","enqId","setenqId","showModal","e","hideModal","enqState","state","enquiry","enquiries","data1","_loop","i","push","key","name","email","mobile","status","children","defaultValue","className","id","onChange","setEnquiryStatus","target","value","_id","action","to","concat","onClick","length","data","enqData","deleteEnq","setTimeout","dataSource","performAction"],"sources":["/Users/eymenozdemir/Desktop/HARMONI/labalsat/ecommerce-admin/src/pages/Enquiries.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { Table } from \"antd\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  deleteAEnquiry,\n  getEnquiries,\n  resetState,\n  updateAEnquiry,\n} from \"../features/enquiry/enquirySlice\";\nimport { AiFillDelete, AiOutlineEye } from \"react-icons/ai\";\nimport { Link } from \"react-router-dom\";\nimport CustomModal from \"../components/CustomModal\";\n\nconst columns = [\n  {\n    title: \"SNo\",\n    dataIndex: \"key\",\n  },\n  {\n    title: \"Name\",\n    dataIndex: \"name\",\n  },\n  {\n    title: \"Email\",\n    dataIndex: \"email\",\n  },\n  {\n    title: \"Mobile\",\n    dataIndex: \"mobile\",\n  },\n  {\n    title: \"Staus\",\n    dataIndex: \"status\",\n  },\n\n  {\n    title: \"Action\",\n    dataIndex: \"action\",\n  },\n];\n\nconst Enquiries = () => {\n  const dispatch = useDispatch();\n  const [open, setOpen] = useState(false);\n  const [enqId, setenqId] = useState(\"\");\n  const showModal = (e) => {\n    setOpen(true);\n    setenqId(e);\n  };\n\n  const hideModal = () => {\n    setOpen(false);\n  };\n  useEffect(() => {\n    dispatch(resetState());\n    dispatch(getEnquiries());\n  }, []);\n  const enqState = useSelector((state) => state.enquiry.enquiries);\n  const data1 = [];\n  for (let i = 0; i < enqState.length; i++) {\n    data1.push({\n      key: i + 1,\n      name: enqState[i].name,\n      email: enqState[i].email,\n      mobile: enqState[i].mobile,\n      status: (\n        <>\n          <select\n            name=\"\"\n            defaultValue={enqState[i].status ? enqState[i].status : \"Submitted\"}\n            className=\"form-control form-select\"\n            id=\"\"\n            onChange={(e) => setEnquiryStatus(e.target.value, enqState[i]._id)}\n          >\n            <option value=\"Submitted\">Submitted</option>\n            <option value=\"Contacted\">Contacted</option>\n            <option value=\"In Progress\">In Progress</option>\n            <option value=\"Resolved\">Resolved</option>\n            <option value=\"MAIL LIST\">MAIL LIST</option>\n          </select>\n        </>\n      ),\n\n      action: (\n        <>\n          <Link\n            className=\"ms-3 fs-3 text-danger\"\n            to={`/admin/enquiries/${enqState[i]._id}`}\n          >\n            <AiOutlineEye />\n          </Link>\n          <button\n            className=\"ms-3 fs-3 text-danger bg-transparent border-0\"\n            onClick={() => showModal(enqState[i]._id)}\n          >\n            <AiFillDelete />\n          </button>\n        </>\n      ),\n    });\n  }\n  const setEnquiryStatus = (e, i) => {\n    const data = { id: i, enqData: e };\n    dispatch(updateAEnquiry(data));\n  };\n  const deleteEnq = (e) => {\n    dispatch(deleteAEnquiry(e));\n    setOpen(false);\n    setTimeout(() => {\n      dispatch(getEnquiries());\n    }, 100);\n  };\n  return (\n    <div>\n      <h3 className=\"mb-4 title\">Enquiries</h3>\n      <div>\n        <Table columns={columns} dataSource={data1} />\n      </div>\n      <CustomModal\n        hideModal={hideModal}\n        open={open}\n        performAction={() => {\n          deleteEnq(enqId);\n        }}\n        title=\"Are you sure you want to delete this enquiry?\"\n      />\n    </div>\n  );\n};\n\nexport default Enquiries;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}