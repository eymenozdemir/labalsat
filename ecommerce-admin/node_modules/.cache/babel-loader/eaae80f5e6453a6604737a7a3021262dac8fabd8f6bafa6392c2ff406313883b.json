{"ast":null,"code":"import{React,useEffect}from\"react\";import CustomInput from\"../components/CustomInput\";import{useDispatch,useSelector}from\"react-redux\";import{useLocation,useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import*as yup from\"yup\";import{useFormik}from\"formik\";import{createBrand,getABrand,resetState,updateABrand}from\"../features/brand/brandSlice\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var schema=yup.object().shape({title:yup.string().required(\"Brand Name is Required\")});var Addbrand=function Addbrand(){var dispatch=useDispatch();var location=useLocation();var navigate=useNavigate();var getBrandId=location.pathname.split(\"/\")[3];var newBrand=useSelector(function(state){return state.brand;});var isSuccess=newBrand.isSuccess,isError=newBrand.isError,isLoading=newBrand.isLoading,createdBrand=newBrand.createdBrand,brandName=newBrand.brandName,updatedBrand=newBrand.updatedBrand;useEffect(function(){if(getBrandId!==undefined){dispatch(getABrand(getBrandId));}else{dispatch(resetState());}},[getBrandId,dispatch]);useEffect(function(){if(isSuccess&&createdBrand){toast.success(\"Brand Added Successfullly!\");}if(isSuccess&&updatedBrand){toast.success(\"Brand Updated Successfullly!\");navigate(\"/admin/list-brand\");}if(isError){toast.error(\"Something Went Wrong!\");}},[isSuccess,isError,isLoading,createdBrand,navigate,updatedBrand]);var formik=useFormik({enableReinitialize:true,initialValues:{title:brandName||\"\"},validationSchema:schema,onSubmit:function onSubmit(values){if(getBrandId!==undefined){var data={id:getBrandId,brandData:values};dispatch(updateABrand(data));dispatch(resetState());}else{dispatch(createBrand(values));formik.resetForm();setTimeout(function(){dispatch(resetState());},300);}}});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"mb-4 title\",children:[getBrandId!==undefined?\"Edit\":\"Add\",\" Brand\"]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(CustomInput,{type:\"text\",name:\"title\",onChng:formik.handleChange(\"title\"),onBlr:formik.handleBlur(\"title\"),val:formik.values.title,label:\"Enter Brand\",id:\"brand\"}),/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:formik.touched.title&&formik.errors.title}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-success border-0 rounded-3 my-5\",type:\"submit\",children:[getBrandId!==undefined?\"Edit\":\"Add\",\" Brand\"]})]})})]});};export default Addbrand;","map":{"version":3,"names":["React","useEffect","CustomInput","useDispatch","useSelector","useLocation","useNavigate","toast","yup","useFormik","createBrand","getABrand","resetState","updateABrand","jsxs","_jsxs","jsx","_jsx","schema","object","shape","title","string","required","Addbrand","dispatch","location","navigate","getBrandId","pathname","split","newBrand","state","brand","isSuccess","isError","isLoading","createdBrand","brandName","updatedBrand","undefined","success","error","formik","enableReinitialize","initialValues","validationSchema","onSubmit","values","data","id","brandData","resetForm","setTimeout","children","className","action","handleSubmit","type","name","onChng","handleChange","onBlr","handleBlur","val","label","touched","errors"],"sources":["/Users/eymenozdemir/Desktop/HARMONI/labalsat/ecommerce-admin/src/pages/Addbrand.js"],"sourcesContent":["import { React, useEffect } from \"react\";\nimport CustomInput from \"../components/CustomInput\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport * as yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport {\n  createBrand,\n  getABrand,\n  resetState,\n  updateABrand,\n} from \"../features/brand/brandSlice\";\n\nlet schema = yup.object().shape({\n  title: yup.string().required(\"Brand Name is Required\"),\n});\nconst Addbrand = () => {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const getBrandId = location.pathname.split(\"/\")[3];\n  const newBrand = useSelector((state) => state.brand);\n  const {\n    isSuccess,\n    isError,\n    isLoading,\n    createdBrand,\n    brandName,\n    updatedBrand,\n  } = newBrand;\n  useEffect(() => {\n    if (getBrandId !== undefined) {\n      dispatch(getABrand(getBrandId));\n    } else {\n      dispatch(resetState());\n    }\n  }, [getBrandId, dispatch]);\n\n  useEffect(() => {\n    if (isSuccess && createdBrand) {\n      toast.success(\"Brand Added Successfullly!\");\n    }\n    if (isSuccess && updatedBrand) {\n      toast.success(\"Brand Updated Successfullly!\");\n      navigate(\"/admin/list-brand\");\n    }\n\n    if (isError) {\n      toast.error(\"Something Went Wrong!\");\n    }\n  }, [isSuccess, isError, isLoading, createdBrand, navigate, updatedBrand]);\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      title: brandName || \"\",\n    },\n    validationSchema: schema,\n    onSubmit: (values) => {\n      if (getBrandId !== undefined) {\n        const data = { id: getBrandId, brandData: values };\n        dispatch(updateABrand(data));\n        dispatch(resetState());\n      } else {\n        dispatch(createBrand(values));\n        formik.resetForm();\n        setTimeout(() => {\n          dispatch(resetState());\n        }, 300);\n      }\n    },\n  });\n\n  return (\n    <div>\n      <h3 className=\"mb-4 title\">\n        {getBrandId !== undefined ? \"Edit\" : \"Add\"} Brand\n      </h3>\n      <div>\n        <form action=\"\" onSubmit={formik.handleSubmit}>\n          <CustomInput\n            type=\"text\"\n            name=\"title\"\n            onChng={formik.handleChange(\"title\")}\n            onBlr={formik.handleBlur(\"title\")}\n            val={formik.values.title}\n            label=\"Enter Brand\"\n            id=\"brand\"\n          />\n          <div className=\"error\">\n            {formik.touched.title && formik.errors.title}\n          </div>\n          <button\n            className=\"btn btn-success border-0 rounded-3 my-5\"\n            type=\"submit\"\n          >\n            {getBrandId !== undefined ? \"Edit\" : \"Add\"} Brand\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Addbrand;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}